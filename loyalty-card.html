<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loyalty Progress with Timeline</title>
  <style>
    /* General Styling */
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 20px;
      background-color: #f8f9fa;
    }

    .loyalty-card {
      text-align: center;
      padding: 20px;
      border: 2px solid #ccc;
      border-radius: 10px;
      width: 350px;
      margin: 20px auto;
      background-color: #fff;
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    }

    .loyalty-card h2 {
      font-size: 24px;
      margin-bottom: 10px;
      font-weight: bold;
    }

    .loyalty-card p {
      font-size: 14px;
      color: #555;
      margin-bottom: 20px;
    }

    .holes {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      justify-items: center;
    }

    .hole {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      transition: all 0.3s ease-in-out;
    }

    /* Filled Holes */
    .hole.filled {
      background-color: #4caf50;
      color: white;
      border: none;
    }

    /* Unfilled Holes */
    .hole {
      border: 2px dashed #ccc;
      background-color: #fff;
      color: #ccc;
    }

    /* Milestone Indicator */
    .hole.milestone {
      border: 2px solid gold;
    }

    .hole.milestone::after {
      content: "★";
      color: gold;
      font-size: 16px;
    }

    .label {
      font-size: 12px;
      color: #555;
      text-align: center;
      margin-top: 5px;
    }

    /* Timeline Styling */
    .timeline {
      margin: 30px auto;
      max-width: 600px;
      padding: 0 20px;
      text-align: left;
    }

    .timeline-event {
      margin-bottom: 20px;
      display: flex;
      align-items: center;
    }

    .timeline-marker {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background-color: #ccc;
      flex-shrink: 0;
    }

    .timeline-marker.filled {
      background-color: #4caf50;
    }

    .timeline-content {
      margin-left: 15px;
    }

    .timeline-content p {
      margin: 0;
      color: #555;
      font-size: 14px;
    }

    .timeline-content .highlight {
      font-weight: bold;
      color: #333;
    }
  </style>
</head>
<body>
  <div class="loyalty-card">
    <h2>Loyalty Progress</h2>
    <p>Earn rewards by registering, paying for subscriptions, and upgrading your plan!</p>
    <div class="holes">
      <!-- Holes with labels -->
      <div class="hole filled" title="Welcome Reward!">✔</div>
      <span class="label">Register Reward</span>

      <div class="hole" title="First Payment or AC Check">○</div>
      <span class="label">First Payment / AC Check</span>

      <div class="hole" title="1st Month Paid">○</div>
      <span class="label">Month 1</span>

      <div class="hole" title="2nd Month Paid">○</div>
      <span class="label">Month 2</span>

      <div class="hole" title="3rd Month Paid">○</div>
      <span class="label">Month 3</span>

      <div class="hole" title="4th Month Paid">○</div>
      <span class="label">Month 4</span>

      <div class="hole" title="5th Month Paid">○</div>
      <span class="label">Month 5</span>

      <div class="hole milestone" title="Upgrade Plan Reward"></div>
      <span class="label">Upgrade Plan</span>
    </div>
  </div>

  <!-- Timeline -->
  <div class="timeline">
    <!-- Dynamic Timeline Events -->
  </div>

  <script>
    // Example user data (replace with dynamic data from your backend)
    const userData = {
      hasRegistered: true,          // User has registered
      monthsPaid: 3,                // Number of months paid (or a 3-month plan)
      isSixMonthSubscriber: false,  // If user registered for a 6-month subscription
      isUpgraded: false,            // If the user upgraded their plan
    };

    // Timeline messages
    const timelineMessages = [
      "Thank you for registering! Your loyalty journey begins here.",
      "First payment received! You're on your way to rewards.",
      "Great job completing your 1st month! Keep going for more rewards.",
      "Amazing! You’ve completed your 2nd month of loyalty.",
      "You’re halfway there! 3rd month completed successfully.",
      "4th month milestone unlocked. Keep up the great work!",
      "Almost there! 5 months down, 1 to go!",
      "Upgrade your plan now to unlock exclusive rewards!",
    ];

    // Update the loyalty card dynamically
    function updateLoyaltyCard(userData) {
      const holes = document.querySelectorAll('.hole');
      const labels = document.querySelectorAll('.label');
      const timeline = document.querySelector('.timeline');

      // Hole 1: Registration Reward
      if (userData.hasRegistered) {
        holes[0].classList.add('filled');
        labels[0].textContent = "Welcome Reward";
      }

      // Hole 2: First Payment or AC Check
      if (userData.isSixMonthSubscriber) {
        holes[1].classList.add('filled');
        labels[1].textContent = "Free AC System Check";
      } else if (userData.monthsPaid >= 1) {
        holes[1].classList.add('filled');
        labels[1].textContent = "First Payment";
      }

      // Holes 3–7: Monthly Payments
      for (let i = 2; i < 7; i++) {
        if (userData.monthsPaid >= i - 1) {
          holes[i].classList.add('filled');
          labels[i].textContent = `Month ${i - 1}`;
        }
      }

      // Hole 8: Upgrade Plan
      if (userData.isUpgraded) {
        holes[7].classList.add('filled');
        labels[7].textContent = "Upgrade Reward";
      }

      // Populate Timeline
      timelineMessages.forEach((message, index) => {
        const event = document.createElement('div');
        event.classList.add('timeline-event');

        const marker = document.createElement('div');
        marker.classList.add('timeline-marker');
        if (index <= userData.monthsPaid || (index === 1 && userData.hasRegistered)) {
          marker.classList.add('filled');
        }

        const content = document.createElement('div');
        content.classList.add('timeline-content');
        content.innerHTML = `<p><span class="highlight">Step ${index + 1}:</span> ${message}</p>`;

        event.appendChild(marker);
        event.appendChild(content);
        timeline.appendChild(event);
      });
    }

    // Initialize the loyalty card and timeline
    updateLoyaltyCard(userData);
  </script>
</body>
</html>
